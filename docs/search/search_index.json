{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u63d0\u793a \u57fa\u4e8eIdentityserver4\u3001Azure API Management\u7684\u5f00\u653e\u5e73\u53f0\u89e3\u51b3\u65b9\u6848\u3002 \u670d\u52a1 \u00b6 \u4f7f\u7528 Azure API \u7f51\u5173 \u7ec4\u5408\u591a\u4e2a\u5fae\u670d\u52a1\uff0c\u4ee5\u4ea7\u54c1\u5305\u7684\u5f62\u5f0f\u63d0\u4f9b\u4f7f\u7528\u3002 \u4ecb\u7ecd \u00b6 \u670d\u52a1\u4f7f\u7528\u7684\u573a\u666f\u3001\u63a5\u5165\u89c4\u8303\u3001\u4f7f\u7528\u8bf4\u660e\u3001\u63a5\u53e3\u6587\u6863\u3001\u5e38\u89c1\u95ee\u9898\u3001\u4ee3\u7801\u793a\u4f8b\u7b49\u3002 \u63a7\u5236\u53f0 \u00b6 \u670d\u52a1\u7684\u914d\u7f6e\u3001\u7ba1\u7406\u76f8\u5173\u529f\u80fd\u3002 API\u6587\u6863 \u00b6 \u63a5\u53e3\u8bf4\u660e\u3002\uff08\u901a\u5e38\u4ee5\u4e1a\u52a1\u6a21\u5757\u5212\u5206\uff0c\u5982\uff1a\u8ba2\u5355\u3001\u8d44\u8baf\u3001\u5546\u54c1\uff09 \u811a\u624b\u67b6 \u00b6 \u5e94\u5305\u542b\u4ea7\u54c1\u63a5\u53e3SDK\u7684\u547d\u4ee4\u884c\u5de5\u5177\u3002\u5feb\u901f\u751f\u6210\u57fa\u4e8e\u4ea7\u54c1\u7684seed\u9879\u76ee\uff0c\u51cf\u5c11\u9879\u76ee\u521d\u59cb\u5316\u5de5\u4f5c\u3002 \u5e38\u89c1\u5f62\u5f0f\uff1aangular cli\u3001vue cli\u3001react cli \u7b49\u7b49","title":"\u9996\u9875"},{"location":"#_1","text":"\u4f7f\u7528 Azure API \u7f51\u5173 \u7ec4\u5408\u591a\u4e2a\u5fae\u670d\u52a1\uff0c\u4ee5\u4ea7\u54c1\u5305\u7684\u5f62\u5f0f\u63d0\u4f9b\u4f7f\u7528\u3002","title":"\u670d\u52a1"},{"location":"#_2","text":"\u670d\u52a1\u4f7f\u7528\u7684\u573a\u666f\u3001\u63a5\u5165\u89c4\u8303\u3001\u4f7f\u7528\u8bf4\u660e\u3001\u63a5\u53e3\u6587\u6863\u3001\u5e38\u89c1\u95ee\u9898\u3001\u4ee3\u7801\u793a\u4f8b\u7b49\u3002","title":"\u4ecb\u7ecd"},{"location":"#_3","text":"\u670d\u52a1\u7684\u914d\u7f6e\u3001\u7ba1\u7406\u76f8\u5173\u529f\u80fd\u3002","title":"\u63a7\u5236\u53f0"},{"location":"#api","text":"\u63a5\u53e3\u8bf4\u660e\u3002\uff08\u901a\u5e38\u4ee5\u4e1a\u52a1\u6a21\u5757\u5212\u5206\uff0c\u5982\uff1a\u8ba2\u5355\u3001\u8d44\u8baf\u3001\u5546\u54c1\uff09","title":"API\u6587\u6863"},{"location":"#_4","text":"\u5e94\u5305\u542b\u4ea7\u54c1\u63a5\u53e3SDK\u7684\u547d\u4ee4\u884c\u5de5\u5177\u3002\u5feb\u901f\u751f\u6210\u57fa\u4e8e\u4ea7\u54c1\u7684seed\u9879\u76ee\uff0c\u51cf\u5c11\u9879\u76ee\u521d\u59cb\u5316\u5de5\u4f5c\u3002 \u5e38\u89c1\u5f62\u5f0f\uff1aangular cli\u3001vue cli\u3001react cli \u7b49\u7b49","title":"\u811a\u624b\u67b6"},{"location":"azureblob/","text":"\u4f7f\u7528Azure Blob\u670d\u52a1 \u00b6 \u63d0\u793a \u5982\u679c\u8981\u4f7f\u7528\u5185\u7f6e\u7684Blob\u63a5\u53e3\uff0c\u5c31\u9700\u8981\u5f00\u901a Azure Storage\u670d\u52a1 \uff0c\u5e76\u628a\u5bf9\u5e94\u7684\u8fde\u63a5\u5b57\u7b26\u4e32\u590d\u5236\u5230\u5982\u4e0b\u914d\u7f6e\u4e2d\u3002 Azure Storage\u53ef\u7528\u4e8e\u5b58\u50a8\u6587\u4ef6\u3001\u56fe\u7247\u3001\u97f3\u89c6\u9891\u7b49\u3002 appsettings.json \"ConnectionStrings\" : { \"AzureStorageConnection\" : \"\u8fde\u63a5\u5b57\u7b26\u4e32\" }","title":"\u4f7f\u7528Azure Blob\u670d\u52a1"},{"location":"azureblob/#azure-blob","text":"\u63d0\u793a \u5982\u679c\u8981\u4f7f\u7528\u5185\u7f6e\u7684Blob\u63a5\u53e3\uff0c\u5c31\u9700\u8981\u5f00\u901a Azure Storage\u670d\u52a1 \uff0c\u5e76\u628a\u5bf9\u5e94\u7684\u8fde\u63a5\u5b57\u7b26\u4e32\u590d\u5236\u5230\u5982\u4e0b\u914d\u7f6e\u4e2d\u3002 Azure Storage\u53ef\u7528\u4e8e\u5b58\u50a8\u6587\u4ef6\u3001\u56fe\u7247\u3001\u97f3\u89c6\u9891\u7b49\u3002 appsettings.json \"ConnectionStrings\" : { \"AzureStorageConnection\" : \"\u8fde\u63a5\u5b57\u7b26\u4e32\" }","title":"\u4f7f\u7528Azure Blob\u670d\u52a1"},{"location":"extend-validator/","text":"\u4f7f\u7528\u73b0\u6709\u7528\u6237\u9881\u53d1accessToken \u00b6 \u63d0\u793a \u81ea\u5b9a\u4e49\u9a8c\u8bc1\u5668\u3002 Startup.cs DemoGrantValidator.cs public class DemoGrantValidator : IExtensionGrantValidator { public string GrantType => \"demo\" ; public async Task ValidateAsync ( ExtensionGrantValidationContext context ) { var username = context . Request . Raw . Get ( \"username\" ); var input_password = context . Request . Raw . Get ( \"password\" ); if ( string . IsNullOrWhiteSpace ( username ) || string . IsNullOrWhiteSpace ( input_password )) { context . Result = new GrantValidationResult ( TokenRequestErrors . InvalidGrant ); return ; } var extraInfo = new Dictionary < string , object >(); extraInfo . Add ( \"country\" , \"china\" ); extraInfo . Add ( \"hobby\" , \"reading\" ); context . Result = new GrantValidationResult ( subject : \"\u7528\u6237ID1\" , authenticationMethod : GrantType , customResponse : extraInfo ); return ; } }","title":"\u4f7f\u7528\u73b0\u6709\u7528\u6237\u9881\u53d1accessToken"},{"location":"extend-validator/#accesstoken","text":"\u63d0\u793a \u81ea\u5b9a\u4e49\u9a8c\u8bc1\u5668\u3002 Startup.cs DemoGrantValidator.cs public class DemoGrantValidator : IExtensionGrantValidator { public string GrantType => \"demo\" ; public async Task ValidateAsync ( ExtensionGrantValidationContext context ) { var username = context . Request . Raw . Get ( \"username\" ); var input_password = context . Request . Raw . Get ( \"password\" ); if ( string . IsNullOrWhiteSpace ( username ) || string . IsNullOrWhiteSpace ( input_password )) { context . Result = new GrantValidationResult ( TokenRequestErrors . InvalidGrant ); return ; } var extraInfo = new Dictionary < string , object >(); extraInfo . Add ( \"country\" , \"china\" ); extraInfo . Add ( \"hobby\" , \"reading\" ); context . Result = new GrantValidationResult ( subject : \"\u7528\u6237ID1\" , authenticationMethod : GrantType , customResponse : extraInfo ); return ; } }","title":"\u4f7f\u7528\u73b0\u6709\u7528\u6237\u9881\u53d1accessToken"},{"location":"logs/","text":"\u66f4\u65b0\u65e5\u5fd7 \u00b6 2020-3-8 \u5347\u7ea7\u5230.net core 3.0 2018-5-30 \u6dfb\u52a0\u4e86read the docs \u96c6\u6210 2018-5-9 \u6dfb\u52a0\u4e86\u5fae\u670d\u52a1\u6743\u9650\u4ee3\u7801\u67e5\u8be2\u63a5\u53e3","title":"\u66f4\u65b0\u65e5\u5fd7"},{"location":"logs/#_1","text":"2020-3-8 \u5347\u7ea7\u5230.net core 3.0 2018-5-30 \u6dfb\u52a0\u4e86read the docs \u96c6\u6210 2018-5-9 \u6dfb\u52a0\u4e86\u5fae\u670d\u52a1\u6743\u9650\u4ee3\u7801\u67e5\u8be2\u63a5\u53e3","title":"\u66f4\u65b0\u65e5\u5fd7"},{"location":"permissions/","text":"\u6743\u9650\u7801\u8868 \u00b6 \u63d0\u793a client\u5728\u8bf7\u6c42\u6807\u8bc6\u4e2d\u5fc3\u9881\u53d1token\u65f6\uff0c\u9ed8\u8ba4\u652f\u6301\u4e0b\u9762\u7684scope\u3002 API \u00b6 [ { \"code\" : \"isms.apiresource.publishrevision\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u521b\u5efa\u4fee\u8ba2\u7248\" , }, { \"code\" : \"isms.apiresource.publishconfiguration\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u4e0a\u6b21\u53d1\u5e03\u914d\u7f6e\" , }, { \"code\" : \"isms.apiresource.publish\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u53d1\u5e03\u6216\u66f4\u65b0\u7248\u672c\" , }, { \"code\" : \"isms.apiresource.products\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u4ea7\u54c1\u7ec4\" , }, { \"code\" : \"isms.apiresource.postrelease\" , \"name\" : \"\u5fae\u670d\u52a1 - \u4fee\u8ba2\u5185\u5bb9 - \u53d1\u5e03\" , }, { \"code\" : \"isms.apiresource.postpackages\" , \"name\" : \"\u5fae\u670d\u52a1 - \u5305\u5e02\u573a - \u6dfb\u52a0\" , }, { \"code\" : \"isms.apiresource.post\" , \"name\" : \"\u5fae\u670d\u52a1 - \u521b\u5efa\" , }, { \"code\" : \"isms.apiresource.publishversion\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u521b\u5efa\u65b0\u7248\u672c\" , }, { \"code\" : \"isms.apiresource.packages\" , \"name\" : \"\u5fae\u670d\u52a1 - \u5305\u5e02\u573a - \u5217\u8868\" , }, { \"code\" : \"isms.apiresource.get\" , \"name\" : \"\u5fae\u670d\u52a1 - \u5217\u8868\" , }, { \"code\" : \"isms.apiresource.detail\" , \"name\" : \"\u5fae\u670d\u52a1 - \u8be6\u60c5\" , }, { \"code\" : \"isms.apiresource.deleterelease\" , \"name\" : \"\u5fae\u670d\u52a1 - \u4fee\u8ba2\u5185\u5bb9 - \u5220\u9664\" , }, { \"code\" : \"isms.apiresource.deletepackage\" , \"name\" : \"\u5fae\u670d\u52a1 - \u5305\u5e02\u573a - \u5220\u9664\" , }, { \"code\" : \"isms.apiresource.delete\" , \"name\" : \"\u5fae\u670d\u52a1 - \u5220\u9664\" , }, { \"code\" : \"isms.apiresource.authservers\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - OAuthServers\" , }, { \"code\" : \"isms.apiresource.all\" , \"name\" : \"\u5fae\u670d\u52a1 - \u6240\u6709\u6743\u9650\" , }, { \"code\" : \"isms.apiresource.history\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - SDK - \u53d1\u5e03\u8bb0\u5f55\" , }, { \"code\" : \"isms.apiresource.put\" , \"name\" : \"\u5fae\u670d\u52a1 - \u66f4\u65b0\" , }, { \"code\" : \"isms.apiresource.putrelease\" , \"name\" : \"\u5fae\u670d\u52a1 - \u4fee\u8ba2\u5185\u5bb9 - \u66f4\u65b0\" , }, { \"code\" : \"isms.apiresource.putpackage\" , \"name\" : \"\u5fae\u670d\u52a1 - \u5305\u5e02\u573a - \u66f4\u65b0\" , }, { \"code\" : \"isms.apiresource.versions\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u7248\u672c\u5217\u8868\" , }, { \"code\" : \"isms.apiresource.verifyemail\" , \"name\" : \"\u5fae\u670d\u52a1 - \u8ba2\u9605\u8005 - \u9a8c\u8bc1\u90ae\u7bb1\" , }, { \"code\" : \"isms.apiresource.subscriptions\" , \"name\" : \"\u5fae\u670d\u52a1 - \u8ba2\u9605\u8005 - \u5217\u8868\" , }, { \"code\" : \"isms.apiresource.setonlineversion\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u4e0a\u7ebf\u6307\u5b9a\u7248\u672c\" , }, { \"code\" : \"isms.apiresource.scopes\" , \"name\" : \"\u5fae\u670d\u52a1 - \u6743\u9650\u4ee3\u7801\" , }, { \"code\" : \"isms.apiresource.releases\" , \"name\" : \"\u5fae\u670d\u52a1 - \u4fee\u8ba2\u5185\u5bb9 - \u5217\u8868\" , } ] Blob \u00b6 [ { \"code\" : \"isms.blob.post\" , \"name\" : \"\u6587\u4ef6 - \u4e0a\u4f20\u89c6\u9891\u6216\u6587\u6863\" , }, { \"code\" : \"isms.blob.image\" , \"name\" : \"\u6587\u4ef6 - \u4e0a\u4f20\u56fe\u7247\" , }, { \"code\" : \"isms.blob.base64\" , \"name\" : \"\u6587\u4ef6 - \u4e0a\u4f20base64\u683c\u5f0f\u7684png\u56fe\u7247\" , }, { \"code\" : \"isms.blob.all\" , \"name\" : \"\u6587\u4ef6 - \u6240\u6709\u6743\u9650\" , } ] \u5ba2\u6237\u7aef \u00b6 [ { \"code\" : \"isms.client.put\" , \"name\" : \"\u5ba2\u6237\u7aef - \u66f4\u65b0\" , }, { \"code\" : \"isms.client.postsecretkey\" , \"name\" : \"\u5ba2\u6237\u7aef - \u751f\u6210\u5bc6\u94a5\" , }, { \"code\" : \"isms.client.post\" , \"name\" : \"\u5ba2\u6237\u7aef - \u521b\u5efa\" , }, { \"code\" : \"isms.client.issuetoken\" , \"name\" : \"\u5ba2\u6237\u7aef - \u521b\u5efa\u4ee4\u724c\" , }, { \"code\" : \"isms.client.get\" , \"name\" : \"\u5ba2\u6237\u7aef - \u5217\u8868\" , }, { \"code\" : \"isms.client.detail\" , \"name\" : \"\u5ba2\u6237\u7aef - \u8be6\u60c5\" , }, { \"code\" : \"isms.client.all\" , \"name\" : \"\u5ba2\u6237\u7aef - \u6240\u6709\u6743\u9650\" , }, { \"code\" : \"isms.client.delete\" , \"name\" : \"\u5ba2\u6237\u7aef - \u5220\u9664\" , } ] \u4ee3\u7801\u751f\u6210 \u00b6 [ { \"code\" : \"isms.codegen.syncgithub\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - Github - \u540c\u6b65\" , }, { \"code\" : \"isms.codegen.servers\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - \u670d\u52a1\u7aef\u5217\u8868\" , }, { \"code\" : \"isms.codegen.releasesdk\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - SDK - \u53d1\u5e03\" , }, { \"code\" : \"isms.codegen.putnpmoptions\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - NPM - \u66f4\u65b0\u8bbe\u7f6e\" , }, { \"code\" : \"isms.codegen.putgithuboptions\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - Github - \u66f4\u65b0\u8bbe\u7f6e\" , }, { \"code\" : \"isms.codegen.putcommonoptions\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - \u57fa\u672c\u8bbe\u7f6e - \u66f4\u65b0\" , }, { \"code\" : \"isms.codegen.npmoptions\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - NPM - \u8bbe\u7f6e\" , }, { \"code\" : \"isms.codegen.githuboptions\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - Github - \u8bbe\u7f6e\" , }, { \"code\" : \"isms.codegen.gen\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - SDK - \u9884\u89c8\u751f\u6210\u4ee3\u7801\" , }, { \"code\" : \"isms.codegen.get\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - \u5ba2\u6237\u7aef\u5217\u8868\" , }, { \"code\" : \"isms.codegen.commonoptions\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - \u57fa\u672c\u8bbe\u7f6e - \u83b7\u53d6\" , }, { \"code\" : \"isms.codegen.all\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - \u6240\u6709\u6743\u9650\" , } ] \u6807\u8bc6 \u00b6 [ { \"code\" : \"isms.identityresource.put\" , \"name\" : \"\u8eab\u4efd\u670d\u52a1 - \u66f4\u65b0\" , }, { \"code\" : \"isms.identityresource.post\" , \"name\" : \"\u8eab\u4efd\u670d\u52a1 - \u521b\u5efa\" , }, { \"code\" : \"isms.identityresource.get\" , \"name\" : \"\u8eab\u4efd\u670d\u52a1 - \u5217\u8868\" , }, { \"code\" : \"isms.identityresource.detail\" , \"name\" : \"\u8eab\u4efd\u670d\u52a1 - \u8be6\u60c5\" , }, { \"code\" : \"isms.identityresource.delete\" , \"name\" : \"\u8eab\u4efd\u670d\u52a1 - \u5220\u9664\" , }, { \"code\" : \"isms.identityresource.all\" , \"name\" : \"\u8eab\u4efd\u670d\u52a1 - \u6240\u6709\u6743\u9650\" , } ] \u89d2\u8272 \u00b6 [ { \"code\" : \"isms.role.all\" , \"name\" : \"\u89d2\u8272 - \u6240\u6709\u6743\u9650\" , }, { \"code\" : \"isms.role.delete\" , \"name\" : \"\u89d2\u8272 - \u5220\u9664\" , }, { \"code\" : \"isms.role.detail\" , \"name\" : \"\u89d2\u8272 - \u8be6\u60c5\" , }, { \"code\" : \"isms.role.put\" , \"name\" : \"\u89d2\u8272 - \u66f4\u65b0\" , }, { \"code\" : \"isms.role.post\" , \"name\" : \"\u89d2\u8272 - \u521b\u5efa\" , }, { \"code\" : \"isms.role.get\" , \"name\" : \"\u89d2\u8272 - \u5217\u8868\" , } ] \u79df\u6237 \u00b6 [ { \"code\" : \"isms.tenant.post\" , \"name\" : \"\u79df\u6237 - \u521b\u5efa\" , }, { \"code\" : \"isms.tenant.get\" , \"name\" : \"\u79df\u6237 - \u5217\u8868\" , }, { \"code\" : \"isms.tenant.detail\" , \"name\" : \"\u79df\u6237 - \u8be6\u60c5\" , }, { \"code\" : \"isms.tenant.delete\" , \"name\" : \"\u79df\u6237 - \u5220\u9664\" , }, { \"code\" : \"isms.tenant.all\" , \"name\" : \"\u79df\u6237 - \u6240\u6709\u6743\u9650\" , }, { \"code\" : \"isms.tenant.put\" , \"name\" : \"\u79df\u6237 - \u66f4\u65b0\" , } ] \u7528\u6237 \u00b6 [ { \"code\" : \"isms.user.verifyemail\" , \"name\" : \"\u7528\u6237 - \u6ce8\u518c - \u53d1\u9001\u90ae\u4ef6\u9a8c\u8bc1\u7801\" , }, { \"code\" : \"isms.user.register\" , \"name\" : \"\u7528\u6237 - \u6ce8\u518c\" , }, { \"code\" : \"isms.user.put\" , \"name\" : \"\u7528\u6237 - \u66f4\u65b0\" , }, { \"code\" : \"isms.user.post\" , \"name\" : \"\u7528\u6237 - \u521b\u5efa\" , }, { \"code\" : \"isms.user.head\" , \"name\" : \"\u7528\u6237 - \u662f\u5426\u5b58\u5728\" , }, { \"code\" : \"isms.user.get\" , \"name\" : \"\u7528\u6237 - \u5217\u8868\" , }, { \"code\" : \"isms.user.detail\" , \"name\" : \"\u7528\u6237 - \u8be6\u60c5\" , }, { \"code\" : \"isms.user.delete\" , \"name\" : \"\u7528\u6237 - \u5220\u9664\" , }, { \"code\" : \"isms.user.verifyphone\" , \"name\" : \"\u7528\u6237 - \u6ce8\u518c - \u53d1\u9001\u624b\u673a\u9a8c\u8bc1\u7801\" , }, { \"code\" : \"isms.user.all\" , \"name\" : \"\u7528\u6237 - \u6240\u6709\u6743\u9650\" , } ] \u5176\u4ed6 \u00b6 { \"code\" : \"isms.all\" , \"name\" : \"\u6388\u6743\u4e2d\u5fc3 - \u6240\u6709\u6743\u9650\" , }","title":"\u6743\u9650\u7801\u8868"},{"location":"permissions/#_1","text":"\u63d0\u793a client\u5728\u8bf7\u6c42\u6807\u8bc6\u4e2d\u5fc3\u9881\u53d1token\u65f6\uff0c\u9ed8\u8ba4\u652f\u6301\u4e0b\u9762\u7684scope\u3002","title":"\u6743\u9650\u7801\u8868"},{"location":"permissions/#api","text":"[ { \"code\" : \"isms.apiresource.publishrevision\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u521b\u5efa\u4fee\u8ba2\u7248\" , }, { \"code\" : \"isms.apiresource.publishconfiguration\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u4e0a\u6b21\u53d1\u5e03\u914d\u7f6e\" , }, { \"code\" : \"isms.apiresource.publish\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u53d1\u5e03\u6216\u66f4\u65b0\u7248\u672c\" , }, { \"code\" : \"isms.apiresource.products\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u4ea7\u54c1\u7ec4\" , }, { \"code\" : \"isms.apiresource.postrelease\" , \"name\" : \"\u5fae\u670d\u52a1 - \u4fee\u8ba2\u5185\u5bb9 - \u53d1\u5e03\" , }, { \"code\" : \"isms.apiresource.postpackages\" , \"name\" : \"\u5fae\u670d\u52a1 - \u5305\u5e02\u573a - \u6dfb\u52a0\" , }, { \"code\" : \"isms.apiresource.post\" , \"name\" : \"\u5fae\u670d\u52a1 - \u521b\u5efa\" , }, { \"code\" : \"isms.apiresource.publishversion\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u521b\u5efa\u65b0\u7248\u672c\" , }, { \"code\" : \"isms.apiresource.packages\" , \"name\" : \"\u5fae\u670d\u52a1 - \u5305\u5e02\u573a - \u5217\u8868\" , }, { \"code\" : \"isms.apiresource.get\" , \"name\" : \"\u5fae\u670d\u52a1 - \u5217\u8868\" , }, { \"code\" : \"isms.apiresource.detail\" , \"name\" : \"\u5fae\u670d\u52a1 - \u8be6\u60c5\" , }, { \"code\" : \"isms.apiresource.deleterelease\" , \"name\" : \"\u5fae\u670d\u52a1 - \u4fee\u8ba2\u5185\u5bb9 - \u5220\u9664\" , }, { \"code\" : \"isms.apiresource.deletepackage\" , \"name\" : \"\u5fae\u670d\u52a1 - \u5305\u5e02\u573a - \u5220\u9664\" , }, { \"code\" : \"isms.apiresource.delete\" , \"name\" : \"\u5fae\u670d\u52a1 - \u5220\u9664\" , }, { \"code\" : \"isms.apiresource.authservers\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - OAuthServers\" , }, { \"code\" : \"isms.apiresource.all\" , \"name\" : \"\u5fae\u670d\u52a1 - \u6240\u6709\u6743\u9650\" , }, { \"code\" : \"isms.apiresource.history\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - SDK - \u53d1\u5e03\u8bb0\u5f55\" , }, { \"code\" : \"isms.apiresource.put\" , \"name\" : \"\u5fae\u670d\u52a1 - \u66f4\u65b0\" , }, { \"code\" : \"isms.apiresource.putrelease\" , \"name\" : \"\u5fae\u670d\u52a1 - \u4fee\u8ba2\u5185\u5bb9 - \u66f4\u65b0\" , }, { \"code\" : \"isms.apiresource.putpackage\" , \"name\" : \"\u5fae\u670d\u52a1 - \u5305\u5e02\u573a - \u66f4\u65b0\" , }, { \"code\" : \"isms.apiresource.versions\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u7248\u672c\u5217\u8868\" , }, { \"code\" : \"isms.apiresource.verifyemail\" , \"name\" : \"\u5fae\u670d\u52a1 - \u8ba2\u9605\u8005 - \u9a8c\u8bc1\u90ae\u7bb1\" , }, { \"code\" : \"isms.apiresource.subscriptions\" , \"name\" : \"\u5fae\u670d\u52a1 - \u8ba2\u9605\u8005 - \u5217\u8868\" , }, { \"code\" : \"isms.apiresource.setonlineversion\" , \"name\" : \"\u5fae\u670d\u52a1 - \u7f51\u5173 - \u4e0a\u7ebf\u6307\u5b9a\u7248\u672c\" , }, { \"code\" : \"isms.apiresource.scopes\" , \"name\" : \"\u5fae\u670d\u52a1 - \u6743\u9650\u4ee3\u7801\" , }, { \"code\" : \"isms.apiresource.releases\" , \"name\" : \"\u5fae\u670d\u52a1 - \u4fee\u8ba2\u5185\u5bb9 - \u5217\u8868\" , } ]","title":"API"},{"location":"permissions/#blob","text":"[ { \"code\" : \"isms.blob.post\" , \"name\" : \"\u6587\u4ef6 - \u4e0a\u4f20\u89c6\u9891\u6216\u6587\u6863\" , }, { \"code\" : \"isms.blob.image\" , \"name\" : \"\u6587\u4ef6 - \u4e0a\u4f20\u56fe\u7247\" , }, { \"code\" : \"isms.blob.base64\" , \"name\" : \"\u6587\u4ef6 - \u4e0a\u4f20base64\u683c\u5f0f\u7684png\u56fe\u7247\" , }, { \"code\" : \"isms.blob.all\" , \"name\" : \"\u6587\u4ef6 - \u6240\u6709\u6743\u9650\" , } ]","title":"Blob"},{"location":"permissions/#_2","text":"[ { \"code\" : \"isms.client.put\" , \"name\" : \"\u5ba2\u6237\u7aef - \u66f4\u65b0\" , }, { \"code\" : \"isms.client.postsecretkey\" , \"name\" : \"\u5ba2\u6237\u7aef - \u751f\u6210\u5bc6\u94a5\" , }, { \"code\" : \"isms.client.post\" , \"name\" : \"\u5ba2\u6237\u7aef - \u521b\u5efa\" , }, { \"code\" : \"isms.client.issuetoken\" , \"name\" : \"\u5ba2\u6237\u7aef - \u521b\u5efa\u4ee4\u724c\" , }, { \"code\" : \"isms.client.get\" , \"name\" : \"\u5ba2\u6237\u7aef - \u5217\u8868\" , }, { \"code\" : \"isms.client.detail\" , \"name\" : \"\u5ba2\u6237\u7aef - \u8be6\u60c5\" , }, { \"code\" : \"isms.client.all\" , \"name\" : \"\u5ba2\u6237\u7aef - \u6240\u6709\u6743\u9650\" , }, { \"code\" : \"isms.client.delete\" , \"name\" : \"\u5ba2\u6237\u7aef - \u5220\u9664\" , } ]","title":"\u5ba2\u6237\u7aef"},{"location":"permissions/#_3","text":"[ { \"code\" : \"isms.codegen.syncgithub\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - Github - \u540c\u6b65\" , }, { \"code\" : \"isms.codegen.servers\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - \u670d\u52a1\u7aef\u5217\u8868\" , }, { \"code\" : \"isms.codegen.releasesdk\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - SDK - \u53d1\u5e03\" , }, { \"code\" : \"isms.codegen.putnpmoptions\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - NPM - \u66f4\u65b0\u8bbe\u7f6e\" , }, { \"code\" : \"isms.codegen.putgithuboptions\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - Github - \u66f4\u65b0\u8bbe\u7f6e\" , }, { \"code\" : \"isms.codegen.putcommonoptions\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - \u57fa\u672c\u8bbe\u7f6e - \u66f4\u65b0\" , }, { \"code\" : \"isms.codegen.npmoptions\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - NPM - \u8bbe\u7f6e\" , }, { \"code\" : \"isms.codegen.githuboptions\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - Github - \u8bbe\u7f6e\" , }, { \"code\" : \"isms.codegen.gen\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - SDK - \u9884\u89c8\u751f\u6210\u4ee3\u7801\" , }, { \"code\" : \"isms.codegen.get\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - \u5ba2\u6237\u7aef\u5217\u8868\" , }, { \"code\" : \"isms.codegen.commonoptions\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - \u57fa\u672c\u8bbe\u7f6e - \u83b7\u53d6\" , }, { \"code\" : \"isms.codegen.all\" , \"name\" : \"\u4ee3\u7801\u751f\u6210 - \u6240\u6709\u6743\u9650\" , } ]","title":"\u4ee3\u7801\u751f\u6210"},{"location":"permissions/#_4","text":"[ { \"code\" : \"isms.identityresource.put\" , \"name\" : \"\u8eab\u4efd\u670d\u52a1 - \u66f4\u65b0\" , }, { \"code\" : \"isms.identityresource.post\" , \"name\" : \"\u8eab\u4efd\u670d\u52a1 - \u521b\u5efa\" , }, { \"code\" : \"isms.identityresource.get\" , \"name\" : \"\u8eab\u4efd\u670d\u52a1 - \u5217\u8868\" , }, { \"code\" : \"isms.identityresource.detail\" , \"name\" : \"\u8eab\u4efd\u670d\u52a1 - \u8be6\u60c5\" , }, { \"code\" : \"isms.identityresource.delete\" , \"name\" : \"\u8eab\u4efd\u670d\u52a1 - \u5220\u9664\" , }, { \"code\" : \"isms.identityresource.all\" , \"name\" : \"\u8eab\u4efd\u670d\u52a1 - \u6240\u6709\u6743\u9650\" , } ]","title":"\u6807\u8bc6"},{"location":"permissions/#_5","text":"[ { \"code\" : \"isms.role.all\" , \"name\" : \"\u89d2\u8272 - \u6240\u6709\u6743\u9650\" , }, { \"code\" : \"isms.role.delete\" , \"name\" : \"\u89d2\u8272 - \u5220\u9664\" , }, { \"code\" : \"isms.role.detail\" , \"name\" : \"\u89d2\u8272 - \u8be6\u60c5\" , }, { \"code\" : \"isms.role.put\" , \"name\" : \"\u89d2\u8272 - \u66f4\u65b0\" , }, { \"code\" : \"isms.role.post\" , \"name\" : \"\u89d2\u8272 - \u521b\u5efa\" , }, { \"code\" : \"isms.role.get\" , \"name\" : \"\u89d2\u8272 - \u5217\u8868\" , } ]","title":"\u89d2\u8272"},{"location":"permissions/#_6","text":"[ { \"code\" : \"isms.tenant.post\" , \"name\" : \"\u79df\u6237 - \u521b\u5efa\" , }, { \"code\" : \"isms.tenant.get\" , \"name\" : \"\u79df\u6237 - \u5217\u8868\" , }, { \"code\" : \"isms.tenant.detail\" , \"name\" : \"\u79df\u6237 - \u8be6\u60c5\" , }, { \"code\" : \"isms.tenant.delete\" , \"name\" : \"\u79df\u6237 - \u5220\u9664\" , }, { \"code\" : \"isms.tenant.all\" , \"name\" : \"\u79df\u6237 - \u6240\u6709\u6743\u9650\" , }, { \"code\" : \"isms.tenant.put\" , \"name\" : \"\u79df\u6237 - \u66f4\u65b0\" , } ]","title":"\u79df\u6237"},{"location":"permissions/#_7","text":"[ { \"code\" : \"isms.user.verifyemail\" , \"name\" : \"\u7528\u6237 - \u6ce8\u518c - \u53d1\u9001\u90ae\u4ef6\u9a8c\u8bc1\u7801\" , }, { \"code\" : \"isms.user.register\" , \"name\" : \"\u7528\u6237 - \u6ce8\u518c\" , }, { \"code\" : \"isms.user.put\" , \"name\" : \"\u7528\u6237 - \u66f4\u65b0\" , }, { \"code\" : \"isms.user.post\" , \"name\" : \"\u7528\u6237 - \u521b\u5efa\" , }, { \"code\" : \"isms.user.head\" , \"name\" : \"\u7528\u6237 - \u662f\u5426\u5b58\u5728\" , }, { \"code\" : \"isms.user.get\" , \"name\" : \"\u7528\u6237 - \u5217\u8868\" , }, { \"code\" : \"isms.user.detail\" , \"name\" : \"\u7528\u6237 - \u8be6\u60c5\" , }, { \"code\" : \"isms.user.delete\" , \"name\" : \"\u7528\u6237 - \u5220\u9664\" , }, { \"code\" : \"isms.user.verifyphone\" , \"name\" : \"\u7528\u6237 - \u6ce8\u518c - \u53d1\u9001\u624b\u673a\u9a8c\u8bc1\u7801\" , }, { \"code\" : \"isms.user.all\" , \"name\" : \"\u7528\u6237 - \u6240\u6709\u6743\u9650\" , } ]","title":"\u7528\u6237"},{"location":"permissions/#_8","text":"{ \"code\" : \"isms.all\" , \"name\" : \"\u6388\u6743\u4e2d\u5fc3 - \u6240\u6709\u6743\u9650\" , }","title":"\u5176\u4ed6"},{"location":"saas/","text":"\u4f7f\u7528Saas\u670d\u52a1 \u00b6 \u66f4\u65b0\u4e2d...","title":"\u4f7f\u7528Saas\u670d\u52a1"},{"location":"saas/#saas","text":"\u66f4\u65b0\u4e2d...","title":"\u4f7f\u7528Saas\u670d\u52a1"},{"location":"sendcloud/","text":"\u4f7f\u7528\u77ed\u4fe1\u3001\u90ae\u4ef6\u670d\u52a1 \u00b6 \u63d0\u793a \u5f53\u7528\u6237\u6ce8\u518c\u6210\u529f\u3001\u627e\u56de\u5bc6\u7801\u3001\u9a8c\u8bc1\u624b\u673a\u53f7\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 sendcloud\u670d\u52a1 \uff0c\u5e76\u628a\u5bf9\u5e94\u7684\u8fde\u63a5\u5b57\u7b26\u4e32\u590d\u5236\u5230\u5982\u4e0b\u914d\u7f6e\u4e2d\u3002 appsettings.json \"IdentityServer\" : { \"SMS\" : { \"apiUser\" : \"\" , \"apiKey\" : \"\" }, \"Email\" : { \"apiUser\" : \"\" , \"apiKey\" : \"\" , \"fromEmail\" : \"\" , \"fromName\" : \"\" } } \u914d\u7f6e\u90ae\u4ef6\u670d\u52a1 \u00b6 Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddSingleton < IEmailSender , EmailSender >(); } EmailSender.cs public class EmailSender : Microsoft . AspNetCore . Identity . UI . Services . IEmailSender { IdentityServer4 . MicroService . Services . EmailService _sender ; public EmailSender ( IdentityServer4 . MicroService . Services . EmailService sender ) { _sender = sender ; } public Task SendEmailAsync ( string email , string subject , string message ) { return _sender . SendEmailAsync ( \"\u90ae\u4ef6\u6a21\u677f\u7684key\" , subject , new string [ 1 ] { email }, new Dictionary < string , string []>() { { \"%subject%\" , new string [ 1 ]{ subject } }, { \"%message%\" , new string [ 1 ]{ message } } }); } }","title":"\u4f7f\u7528\u77ed\u4fe1\u3001\u90ae\u4ef6\u670d\u52a1"},{"location":"sendcloud/#_1","text":"\u63d0\u793a \u5f53\u7528\u6237\u6ce8\u518c\u6210\u529f\u3001\u627e\u56de\u5bc6\u7801\u3001\u9a8c\u8bc1\u624b\u673a\u53f7\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 sendcloud\u670d\u52a1 \uff0c\u5e76\u628a\u5bf9\u5e94\u7684\u8fde\u63a5\u5b57\u7b26\u4e32\u590d\u5236\u5230\u5982\u4e0b\u914d\u7f6e\u4e2d\u3002 appsettings.json \"IdentityServer\" : { \"SMS\" : { \"apiUser\" : \"\" , \"apiKey\" : \"\" }, \"Email\" : { \"apiUser\" : \"\" , \"apiKey\" : \"\" , \"fromEmail\" : \"\" , \"fromName\" : \"\" } }","title":"\u4f7f\u7528\u77ed\u4fe1\u3001\u90ae\u4ef6\u670d\u52a1"},{"location":"sendcloud/#_2","text":"Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddSingleton < IEmailSender , EmailSender >(); } EmailSender.cs public class EmailSender : Microsoft . AspNetCore . Identity . UI . Services . IEmailSender { IdentityServer4 . MicroService . Services . EmailService _sender ; public EmailSender ( IdentityServer4 . MicroService . Services . EmailService sender ) { _sender = sender ; } public Task SendEmailAsync ( string email , string subject , string message ) { return _sender . SendEmailAsync ( \"\u90ae\u4ef6\u6a21\u677f\u7684key\" , subject , new string [ 1 ] { email }, new Dictionary < string , string []>() { { \"%subject%\" , new string [ 1 ]{ subject } }, { \"%message%\" , new string [ 1 ]{ message } } }); } }","title":"\u914d\u7f6e\u90ae\u4ef6\u670d\u52a1"},{"location":"settings/","text":"\u914d\u7f6e\u8bf4\u660e \u00b6 \u9ed8\u8ba4\u7ba1\u7406\u5458 \u00b6 Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddIdentityServer4MicroService ( options => { //\u9ed8\u8ba4\uff1aadmin@admin.com options . DefaultUserAccount = \"admin@admin.com\" ; //\u9ed8\u8ba4\u4e3a\uff1a123456aA! options . DefaultUserPassword = \"123456aA!\" ; }); } \u663e\u793a/\u9690\u85cfAPI\u6587\u6863 \u00b6 \u63d0\u793a \u5982\u679c\u9700\u8981\u5728\u9879\u76ee\u4e2d\u9690\u85cfOAuthApp\u7684\u63a5\u53e3\u6587\u6863\uff0c\u53ef\u53c2\u8003\u5982\u4e0b\u914d\u7f6e\u3002 Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddIdentityServer4MicroService ( options => { // \u8fd9\u53ea\u8be5\u5c5e\u6027\u4f1a\u9690\u85cf\u6240\u6709\u6587\u6863 options . EnableAPIDocuments = false ; // \u6216\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u5c55\u793a\u6307\u5b9a\u7684API\u6587\u6863 // IdentityServer4MicroServiceOptions.APIDocuments.Add }); } \u7248\u672c\u53f7 \u00b6 \u63d0\u793a \u4e3aapi\u6dfb\u52a0\u7248\u672c\u529f\u80fd\uff0c\u5728\u8bf7\u6c42\u4e2d\u5b9e\u73b0\u5982\u4e0b\u65b9\u5f0f\uff1a /api/foo?api-version=1.0 /api/foo?api-version=2.0-Alpha /api/foo?api-version=2015-05-01.3.0 /api/v1/foo /api/v2.0-Alpha/foo /api/v2015-05-01.3.0/foo \u66f4\u591a\u53ef\u4ee5 \u53c2\u8003\u6587\u6863 Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddIdentityServer4MicroService ( options => { // \u9ed8\u8ba4\u4e3atrue options . EnableApiVersioning = true ; }); } DemoController.cs [ApiVersion(\"2.0\")] [ApiController] public class DemoController : ControllerBase { } \u8de8\u57df \u00b6 \u63d0\u793a \u5141\u8bb8\u8de8\u57df\u7684url\u96c6\u5408(\u9ed8\u8ba4\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\u7684IdentityServer:Origins\u8282\u70b9)\uff0c\u591a\u4e2a\u7f51\u5740\u6709\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002 Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddIdentityServer4MicroService ( options => { // \u9ed8\u8ba4\u4e3atrue options . EnableCors = true ; }); } appsettings.json IdentityServer : { Origins : \"http://127.0.0.1:8080,http://127.0.0.1:8888\" } Aspnet Core Identity \u00b6 \u63d0\u793a \u5177\u4f53\u914d\u7f6e\u9879\uff0c\u53ef\u4ee5 \u53c2\u8003\u6587\u6863 \u5b98\u65b9\u6587\u6863\u3002 Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddIdentityServer4MicroService ( options =>{ options . AspNetCoreIdentityOptions = identityOptions =>{ identityOptions . Lockout . DefaultLockoutTimeSpan = TimeSpan . FromMinutes ( 5 ); identityOptions . Lockout . MaxFailedAccessAttempts = 5 ; identityOptions . Lockout . AllowedForNewUsers = true ; // Default Password settings. // \u9700\u8981\u4ecb\u4e8e 0-9 \u7684\u5bc6\u7801 identityOptions . Password . RequireDigit = false ; // \u8981\u6c42\u5bc6\u7801\u4e2d\u7684\u5c0f\u5199\u5b57\u7b26 identityOptions . Password . RequireLowercase = false ; // \u9700\u8981\u5728\u5bc6\u7801\u4e2d\u7684\u975e\u5b57\u6bcd\u6570\u5b57\u5b57\u7b26 identityOptions . Password . RequireNonAlphanumeric = false ; // \u9700\u8981\u5927\u5199\u5b57\u7b26\u7684\u5bc6\u7801 identityOptions . Password . RequireUppercase = false ; // \u5bc6\u7801\u6700\u5c0f\u957f\u5ea6 identityOptions . Password . RequiredLength = 6 ; // \u8981\u6c42\u5728\u5bc6\u7801\u4e2d\u975e\u91cd\u590d\u5b57\u7b26\u6570 identityOptions . Password . RequiredUniqueChars = 1 ; // Default SignIn settings. identityOptions . SignIn . RequireConfirmedEmail = false ; identityOptions . SignIn . RequireConfirmedPhoneNumber = false ; // Default User settings. identityOptions . User . AllowedUserNameCharacters = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._@+\" ; identityOptions . User . RequireUniqueEmail = true ; } }); } Identity Server 4 \u00b6 \u63d0\u793a \u5177\u4f53\u914d\u7f6e\uff0c\u53ef\u4ee5\u53c2\u8003 \u5b98\u65b9\u6587\u6863 Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddIdentityServer4MicroService ( options => { // \u901a\u8fc7\u4e0b\u9762\u7684\u5bf9\u8c61\u914d\u7f6eidentityserver4 // options.IdentityServerBuilder // options.IdentityServerOptions }); }","title":"\u914d\u7f6e\u8bf4\u660e"},{"location":"settings/#_1","text":"","title":"\u914d\u7f6e\u8bf4\u660e"},{"location":"settings/#_2","text":"Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddIdentityServer4MicroService ( options => { //\u9ed8\u8ba4\uff1aadmin@admin.com options . DefaultUserAccount = \"admin@admin.com\" ; //\u9ed8\u8ba4\u4e3a\uff1a123456aA! options . DefaultUserPassword = \"123456aA!\" ; }); }","title":"\u9ed8\u8ba4\u7ba1\u7406\u5458"},{"location":"settings/#api","text":"\u63d0\u793a \u5982\u679c\u9700\u8981\u5728\u9879\u76ee\u4e2d\u9690\u85cfOAuthApp\u7684\u63a5\u53e3\u6587\u6863\uff0c\u53ef\u53c2\u8003\u5982\u4e0b\u914d\u7f6e\u3002 Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddIdentityServer4MicroService ( options => { // \u8fd9\u53ea\u8be5\u5c5e\u6027\u4f1a\u9690\u85cf\u6240\u6709\u6587\u6863 options . EnableAPIDocuments = false ; // \u6216\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u5c55\u793a\u6307\u5b9a\u7684API\u6587\u6863 // IdentityServer4MicroServiceOptions.APIDocuments.Add }); }","title":"\u663e\u793a/\u9690\u85cfAPI\u6587\u6863"},{"location":"settings/#_3","text":"\u63d0\u793a \u4e3aapi\u6dfb\u52a0\u7248\u672c\u529f\u80fd\uff0c\u5728\u8bf7\u6c42\u4e2d\u5b9e\u73b0\u5982\u4e0b\u65b9\u5f0f\uff1a /api/foo?api-version=1.0 /api/foo?api-version=2.0-Alpha /api/foo?api-version=2015-05-01.3.0 /api/v1/foo /api/v2.0-Alpha/foo /api/v2015-05-01.3.0/foo \u66f4\u591a\u53ef\u4ee5 \u53c2\u8003\u6587\u6863 Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddIdentityServer4MicroService ( options => { // \u9ed8\u8ba4\u4e3atrue options . EnableApiVersioning = true ; }); } DemoController.cs [ApiVersion(\"2.0\")] [ApiController] public class DemoController : ControllerBase { }","title":"\u7248\u672c\u53f7"},{"location":"settings/#_4","text":"\u63d0\u793a \u5141\u8bb8\u8de8\u57df\u7684url\u96c6\u5408(\u9ed8\u8ba4\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\u7684IdentityServer:Origins\u8282\u70b9)\uff0c\u591a\u4e2a\u7f51\u5740\u6709\u82f1\u6587\u9017\u53f7\u5206\u9694\u3002 Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddIdentityServer4MicroService ( options => { // \u9ed8\u8ba4\u4e3atrue options . EnableCors = true ; }); } appsettings.json IdentityServer : { Origins : \"http://127.0.0.1:8080,http://127.0.0.1:8888\" }","title":"\u8de8\u57df"},{"location":"settings/#aspnet-core-identity","text":"\u63d0\u793a \u5177\u4f53\u914d\u7f6e\u9879\uff0c\u53ef\u4ee5 \u53c2\u8003\u6587\u6863 \u5b98\u65b9\u6587\u6863\u3002 Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddIdentityServer4MicroService ( options =>{ options . AspNetCoreIdentityOptions = identityOptions =>{ identityOptions . Lockout . DefaultLockoutTimeSpan = TimeSpan . FromMinutes ( 5 ); identityOptions . Lockout . MaxFailedAccessAttempts = 5 ; identityOptions . Lockout . AllowedForNewUsers = true ; // Default Password settings. // \u9700\u8981\u4ecb\u4e8e 0-9 \u7684\u5bc6\u7801 identityOptions . Password . RequireDigit = false ; // \u8981\u6c42\u5bc6\u7801\u4e2d\u7684\u5c0f\u5199\u5b57\u7b26 identityOptions . Password . RequireLowercase = false ; // \u9700\u8981\u5728\u5bc6\u7801\u4e2d\u7684\u975e\u5b57\u6bcd\u6570\u5b57\u5b57\u7b26 identityOptions . Password . RequireNonAlphanumeric = false ; // \u9700\u8981\u5927\u5199\u5b57\u7b26\u7684\u5bc6\u7801 identityOptions . Password . RequireUppercase = false ; // \u5bc6\u7801\u6700\u5c0f\u957f\u5ea6 identityOptions . Password . RequiredLength = 6 ; // \u8981\u6c42\u5728\u5bc6\u7801\u4e2d\u975e\u91cd\u590d\u5b57\u7b26\u6570 identityOptions . Password . RequiredUniqueChars = 1 ; // Default SignIn settings. identityOptions . SignIn . RequireConfirmedEmail = false ; identityOptions . SignIn . RequireConfirmedPhoneNumber = false ; // Default User settings. identityOptions . User . AllowedUserNameCharacters = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._@+\" ; identityOptions . User . RequireUniqueEmail = true ; } }); }","title":"Aspnet Core Identity"},{"location":"settings/#identity-server-4","text":"\u63d0\u793a \u5177\u4f53\u914d\u7f6e\uff0c\u53ef\u4ee5\u53c2\u8003 \u5b98\u65b9\u6587\u6863 Startup.cs public void ConfigureServices ( IServiceCollection services ) { services . AddIdentityServer4MicroService ( options => { // \u901a\u8fc7\u4e0b\u9762\u7684\u5bf9\u8c61\u914d\u7f6eidentityserver4 // options.IdentityServerBuilder // options.IdentityServerOptions }); }","title":"Identity Server 4"},{"location":"start-server/","text":"\u521b\u5efa\u6807\u8bc6\u670d\u52a1\u5668 \u00b6 \u63d0\u793a OAuthApp\u662f\u4e00\u4e2a\u57fa\u4e8eAspNetCoreIdentity\u3001IdentityServer4\u7684\u6846\u67b6\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5feb\u901f\u642d\u5efa\u5177\u6709\u5f00\u653e\u5e73\u53f0\u7684\u7528\u6237\u4e2d\u5fc3\u3002 \u53c2\u8003\u5982\u4e0b\u6b65\u9aa4\uff0c\u642d\u5efa\u6807\u8bc6\u670d\u52a1\u5668\u3002\u8bf7\u786e\u4fdd\u60a8\u5df2\u7ecf\u5b89\u88c5\u4e86 Visual Studio 2019 \u3001 DotNet Core 3.1 \u3001 SQL Server \u3002 1\uff0c\u521b\u5efa\u5e94\u7528\u7a0b\u5e8f \u00b6 2\uff0c\u5b89\u88c5Nuget\u5305 \u00b6 \u63d0\u793a \u5bf9\u9879\u76ee\u7684\u4f9d\u8d56\u9879\u70b9\u53f3\u952e\uff0c\u9009\u62e9\u7ba1\u7406Nuget\u7a0b\u5e8f\u5305 \u63d0\u793a \u8f93\u5165OAuthApp\uff0c\u7136\u540e\u70b9\u51fb\u5b89\u88c5 3\uff0c\u914d\u7f6e \u00b6 3.1 appsetting.json \u00b6 \u63d0\u793a \u5bf9\u9879\u76ee\u4f9d\u6b21\u70b9\u51fb\u9f20\u6807\u53f3\u952e\u2014\u2014\u5c5e\u6027\u2014\u2014\u8c03\u8bd5\uff0c\u590d\u5236\u9879\u76ee\u7f51\u5740. \u63d0\u793a \u590d\u5236\u4e0b\u9762\u4ee3\u7801\u5230 appsetting.json \u6587\u4ef6\uff0c\u6ce8\u610f\u5c06Host\u8282\u70b9\u66ff\u6362\u4e3a\u5f53\u524d\u9879\u76ee\u7f51\u5740\uff0c \u7ed3\u5c3e\u4e0d\u8981\u5e26\u201c/\u201d \u3002 DataBaseConnection \u53ef\u66ff\u6362\u4e3a\u5b9e\u9645\u6570\u636e\u5e93\u7684\u5730\u5740\uff0c SMS \u548c Email \u4f7f\u7528\u7684\u662f SendCloud \u7684\u670d\u52a1\u3002 appsetting.json \"ConnectionStrings\" : { \"DataBaseConnection\" : \"Data Source=(localdb)\\\\ProjectsV13;Initial Catalog=ismsdb_demo;Integrated Security=True;Pooling=False\" , \"AzureStorageConnection\" : \"\u53ef\u7a7a\" } , \"IdentityServer\" : { \"Host\" : \"\u5f53\u524d\u9879\u76ee\u7f51\u5740\uff0c\u7ed3\u5c3e\u4e0d\u8981\u5230/\" , \"SMS\" : { \"apiUser\" : \"\u53ef\u7a7a\" , \"apiKey\" : \"\u53ef\u7a7a\" }, \"Email\" : { \"apiUser\" : \"\u53ef\u7a7a\" , \"apiKey\" : \"\u53ef\u7a7a\" , \"fromEmail\" : \"\u53ef\u7a7a\" , \"fromName\" : \"\u53ef\u7a7a\" } } 3.2 Identity UI \u00b6 \u63d0\u793a \u6253\u5f00\u9879\u76ee\u7684 Views/Shared/_Layout.cshtml \u6587\u4ef6\uff0c\u6dfb\u52a0\u767b\u9646\u7ec4\u4ef6\u3002 Views/Shared/_Layout.cshtml < partial name = \"_LoginPartial\" /> 3.3 \u6dfb\u52a0\u5e76\u5f15\u7528\u670d\u52a1 \u00b6 \u63d0\u793a \u6253\u5f00 Startup.cs \u6587\u4ef6\uff0c\u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801\u3002( \u6ce8\u91caapp.UseAuthentication() ) Startup.cs services . AddIdentityServer4MicroService (); app . UseIdentityServer4MicroService (); 4\uff0c \u542f\u52a8 \u00b6 \u63d0\u793a \u542f\u52a8\u9879\u76ee\u5e76\u9884\u89c8\u3002\u9ed8\u8ba4\u7528\u6237\u8d26\u53f7\uff1a admin@admin.com \uff0c\u5bc6\u7801\uff1a123456aA!\uff0c\u62e5\u6709\u6240\u6709\u6743\u9650\u3002 5\uff0c Swagger UI \u00b6 \u63d0\u793a \u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00 {\u9879\u76ee\u7f51\u5740} /swagger/index.html\u53ef\u8bbf\u95eeAPI\u6587\u6863\u3002 \u63d0\u793a \u53ef\u8bbf\u95ee {\u9879\u76ee\u7f51\u5740} /grants\uff0c\u64a4\u9500\u5bf9\u6307\u5b9aclient\u7684\u6388\u6743\u3002 6\uff0cPostman \u00b6 \u63d0\u793a Postman\u4e0b\u8f7d\u5730\u5740\uff1a https://www.postman.com/downloads/","title":"\u521b\u5efa\u6807\u8bc6\u670d\u52a1\u5668"},{"location":"start-server/#_1","text":"\u63d0\u793a OAuthApp\u662f\u4e00\u4e2a\u57fa\u4e8eAspNetCoreIdentity\u3001IdentityServer4\u7684\u6846\u67b6\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5feb\u901f\u642d\u5efa\u5177\u6709\u5f00\u653e\u5e73\u53f0\u7684\u7528\u6237\u4e2d\u5fc3\u3002 \u53c2\u8003\u5982\u4e0b\u6b65\u9aa4\uff0c\u642d\u5efa\u6807\u8bc6\u670d\u52a1\u5668\u3002\u8bf7\u786e\u4fdd\u60a8\u5df2\u7ecf\u5b89\u88c5\u4e86 Visual Studio 2019 \u3001 DotNet Core 3.1 \u3001 SQL Server \u3002","title":"\u521b\u5efa\u6807\u8bc6\u670d\u52a1\u5668"},{"location":"start-server/#1","text":"","title":"1\uff0c\u521b\u5efa\u5e94\u7528\u7a0b\u5e8f"},{"location":"start-server/#2nuget","text":"\u63d0\u793a \u5bf9\u9879\u76ee\u7684\u4f9d\u8d56\u9879\u70b9\u53f3\u952e\uff0c\u9009\u62e9\u7ba1\u7406Nuget\u7a0b\u5e8f\u5305 \u63d0\u793a \u8f93\u5165OAuthApp\uff0c\u7136\u540e\u70b9\u51fb\u5b89\u88c5","title":"2\uff0c\u5b89\u88c5Nuget\u5305"},{"location":"start-server/#3","text":"","title":"3\uff0c\u914d\u7f6e"},{"location":"start-server/#31-appsettingjson","text":"\u63d0\u793a \u5bf9\u9879\u76ee\u4f9d\u6b21\u70b9\u51fb\u9f20\u6807\u53f3\u952e\u2014\u2014\u5c5e\u6027\u2014\u2014\u8c03\u8bd5\uff0c\u590d\u5236\u9879\u76ee\u7f51\u5740. \u63d0\u793a \u590d\u5236\u4e0b\u9762\u4ee3\u7801\u5230 appsetting.json \u6587\u4ef6\uff0c\u6ce8\u610f\u5c06Host\u8282\u70b9\u66ff\u6362\u4e3a\u5f53\u524d\u9879\u76ee\u7f51\u5740\uff0c \u7ed3\u5c3e\u4e0d\u8981\u5e26\u201c/\u201d \u3002 DataBaseConnection \u53ef\u66ff\u6362\u4e3a\u5b9e\u9645\u6570\u636e\u5e93\u7684\u5730\u5740\uff0c SMS \u548c Email \u4f7f\u7528\u7684\u662f SendCloud \u7684\u670d\u52a1\u3002 appsetting.json \"ConnectionStrings\" : { \"DataBaseConnection\" : \"Data Source=(localdb)\\\\ProjectsV13;Initial Catalog=ismsdb_demo;Integrated Security=True;Pooling=False\" , \"AzureStorageConnection\" : \"\u53ef\u7a7a\" } , \"IdentityServer\" : { \"Host\" : \"\u5f53\u524d\u9879\u76ee\u7f51\u5740\uff0c\u7ed3\u5c3e\u4e0d\u8981\u5230/\" , \"SMS\" : { \"apiUser\" : \"\u53ef\u7a7a\" , \"apiKey\" : \"\u53ef\u7a7a\" }, \"Email\" : { \"apiUser\" : \"\u53ef\u7a7a\" , \"apiKey\" : \"\u53ef\u7a7a\" , \"fromEmail\" : \"\u53ef\u7a7a\" , \"fromName\" : \"\u53ef\u7a7a\" } }","title":"3.1 appsetting.json"},{"location":"start-server/#32-identity-ui","text":"\u63d0\u793a \u6253\u5f00\u9879\u76ee\u7684 Views/Shared/_Layout.cshtml \u6587\u4ef6\uff0c\u6dfb\u52a0\u767b\u9646\u7ec4\u4ef6\u3002 Views/Shared/_Layout.cshtml < partial name = \"_LoginPartial\" />","title":"3.2 Identity UI"},{"location":"start-server/#33","text":"\u63d0\u793a \u6253\u5f00 Startup.cs \u6587\u4ef6\uff0c\u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801\u3002( \u6ce8\u91caapp.UseAuthentication() ) Startup.cs services . AddIdentityServer4MicroService (); app . UseIdentityServer4MicroService ();","title":"3.3 \u6dfb\u52a0\u5e76\u5f15\u7528\u670d\u52a1"},{"location":"start-server/#4","text":"\u63d0\u793a \u542f\u52a8\u9879\u76ee\u5e76\u9884\u89c8\u3002\u9ed8\u8ba4\u7528\u6237\u8d26\u53f7\uff1a admin@admin.com \uff0c\u5bc6\u7801\uff1a123456aA!\uff0c\u62e5\u6709\u6240\u6709\u6743\u9650\u3002","title":"4\uff0c    \u542f\u52a8"},{"location":"start-server/#5-swagger-ui","text":"\u63d0\u793a \u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00 {\u9879\u76ee\u7f51\u5740} /swagger/index.html\u53ef\u8bbf\u95eeAPI\u6587\u6863\u3002 \u63d0\u793a \u53ef\u8bbf\u95ee {\u9879\u76ee\u7f51\u5740} /grants\uff0c\u64a4\u9500\u5bf9\u6307\u5b9aclient\u7684\u6388\u6743\u3002","title":"5\uff0c   Swagger UI"},{"location":"start-server/#6postman","text":"\u63d0\u793a Postman\u4e0b\u8f7d\u5730\u5740\uff1a https://www.postman.com/downloads/","title":"6\uff0cPostman"}]}